@inject NavigationManager Nav

@code {
    protected override void OnInitialized()
    {
        var current = Nav.Uri;

        if (!current.Contains("/login") &&
            !current.Contains("/register"))
        {
            Nav.NavigateTo(
                "/login?returnUrl=" +
                Uri.EscapeDataString(new Uri(current).PathAndQuery),
                true);
        }
    }
}